define(["./core","./var/rnotwhite"],function(t,e){function n(n){var r=i[n]={};return t.each(n.match(e)||[],function(t,e){r[e]=!0}),r}var i={};return t.Callbacks=function(e){e="string"==typeof e?i[e]||n(e):t.extend({},e);var r,s,o,a,l,c,u=[],d=!e.once&&[],f=function(t){for(r=e.memory&&t,s=!0,c=a||0,a=0,l=u.length,o=!0;u&&l>c;c++)if(u[c].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}o=!1,u&&(d?d.length&&f(d.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var n=u.length;!function i(n){t.each(n,function(n,r){var s=t.type(r);"function"===s?e.unique&&p.has(r)||u.push(r):r&&r.length&&"string"!==s&&i(r)})}(arguments),o?l=u.length:r&&(a=n,f(r))}return this},remove:function(){return u&&t.each(arguments,function(e,n){for(var i;(i=t.inArray(n,u,i))>-1;)u.splice(i,1),o&&(l>=i&&l--,c>=i&&c--)}),this},has:function(e){return e?t.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],l=0,this},disable:function(){return u=d=r=void 0,this},disabled:function(){return!u},lock:function(){return d=void 0,r||p.disable(),this},locked:function(){return!d},fireWith:function(t,e){return!u||s&&!d||(e=e||[],e=[t,e.slice?e.slice():e],o?d.push(e):f(e)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!s}};return p},t});